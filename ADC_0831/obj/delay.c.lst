                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.8.4 #10807 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module delay
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _delay_ms
                                     12 ;--------------------------------------------------------
                                     13 ; special function registers
                                     14 ;--------------------------------------------------------
                                     15 	.area RSEG    (ABS,DATA)
      000000                         16 	.org 0x0000
                                     17 ;--------------------------------------------------------
                                     18 ; special function bits
                                     19 ;--------------------------------------------------------
                                     20 	.area RSEG    (ABS,DATA)
      000000                         21 	.org 0x0000
                                     22 ;--------------------------------------------------------
                                     23 ; overlayable register banks
                                     24 ;--------------------------------------------------------
                                     25 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         26 	.ds 8
                                     27 ;--------------------------------------------------------
                                     28 ; internal ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area DSEG    (DATA)
                                     31 ;--------------------------------------------------------
                                     32 ; overlayable items in internal ram 
                                     33 ;--------------------------------------------------------
                                     34 	.area	OSEG    (OVR,DATA)
                                     35 ;--------------------------------------------------------
                                     36 ; indirectly addressable internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area ISEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; absolute internal ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area IABS    (ABS,DATA)
                                     43 	.area IABS    (ABS,DATA)
                                     44 ;--------------------------------------------------------
                                     45 ; bit data
                                     46 ;--------------------------------------------------------
                                     47 	.area BSEG    (BIT)
                                     48 ;--------------------------------------------------------
                                     49 ; paged external ram data
                                     50 ;--------------------------------------------------------
                                     51 	.area PSEG    (PAG,XDATA)
                                     52 ;--------------------------------------------------------
                                     53 ; external ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area XSEG    (XDATA)
                                     56 ;--------------------------------------------------------
                                     57 ; absolute external ram data
                                     58 ;--------------------------------------------------------
                                     59 	.area XABS    (ABS,XDATA)
                                     60 ;--------------------------------------------------------
                                     61 ; external initialized ram data
                                     62 ;--------------------------------------------------------
                                     63 	.area HOME    (CODE)
                                     64 	.area GSINIT0 (CODE)
                                     65 	.area GSINIT1 (CODE)
                                     66 	.area GSINIT2 (CODE)
                                     67 	.area GSINIT3 (CODE)
                                     68 	.area GSINIT4 (CODE)
                                     69 	.area GSINIT5 (CODE)
                                     70 	.area GSINIT  (CODE)
                                     71 	.area GSFINAL (CODE)
                                     72 	.area CSEG    (CODE)
                                     73 ;--------------------------------------------------------
                                     74 ; global & static initialisations
                                     75 ;--------------------------------------------------------
                                     76 	.area HOME    (CODE)
                                     77 	.area GSINIT  (CODE)
                                     78 	.area GSFINAL (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 ;--------------------------------------------------------
                                     81 ; Home
                                     82 ;--------------------------------------------------------
                                     83 	.area HOME    (CODE)
                                     84 	.area HOME    (CODE)
                                     85 ;--------------------------------------------------------
                                     86 ; code
                                     87 ;--------------------------------------------------------
                                     88 	.area CSEG    (CODE)
                                     89 ;------------------------------------------------------------
                                     90 ;Allocation info for local variables in function 'delay_ms'
                                     91 ;------------------------------------------------------------
                                     92 ;count                     Allocated to registers r6 r7 
                                     93 ;i                         Allocated to registers r4 r5 
                                     94 ;j                         Allocated to registers r2 r3 
                                     95 ;------------------------------------------------------------
                                     96 ;	src/delay.c:3: void delay_ms(unsigned int count)    		
                                     97 ;	-----------------------------------------
                                     98 ;	 function delay_ms
                                     99 ;	-----------------------------------------
      000000                        100 _delay_ms:
                           000007   101 	ar7 = 0x07
                           000006   102 	ar6 = 0x06
                           000005   103 	ar5 = 0x05
                           000004   104 	ar4 = 0x04
                           000003   105 	ar3 = 0x03
                           000002   106 	ar2 = 0x02
                           000001   107 	ar1 = 0x01
                           000000   108 	ar0 = 0x00
      000000 AE 82            [24]  109 	mov	r6,dpl
      000002 AF 83            [24]  110 	mov	r7,dph
                                    111 ;	src/delay.c:6: for(i=0;i<count;i++)
      000004 7C 00            [12]  112 	mov	r4,#0x00
      000006 7D 00            [12]  113 	mov	r5,#0x00
      000008                        114 00107$:
      000008 8C 02            [24]  115 	mov	ar2,r4
      00000A 8D 03            [24]  116 	mov	ar3,r5
      00000C C3               [12]  117 	clr	c
      00000D EA               [12]  118 	mov	a,r2
      00000E 9E               [12]  119 	subb	a,r6
      00000F EB               [12]  120 	mov	a,r3
      000010 9F               [12]  121 	subb	a,r7
      000011 50 1B            [24]  122 	jnc	00109$
                                    123 ;	src/delay.c:7: for(j=0;j<127;j++);
      000013 7A 7F            [12]  124 	mov	r2,#0x7f
      000015 7B 00            [12]  125 	mov	r3,#0x00
      000017                        126 00105$:
      000017 EA               [12]  127 	mov	a,r2
      000018 24 FF            [12]  128 	add	a,#0xff
      00001A F8               [12]  129 	mov	r0,a
      00001B EB               [12]  130 	mov	a,r3
      00001C 34 FF            [12]  131 	addc	a,#0xff
      00001E F9               [12]  132 	mov	r1,a
      00001F 88 02            [24]  133 	mov	ar2,r0
      000021 89 03            [24]  134 	mov	ar3,r1
      000023 E8               [12]  135 	mov	a,r0
      000024 49               [12]  136 	orl	a,r1
      000025 70 F0            [24]  137 	jnz	00105$
                                    138 ;	src/delay.c:6: for(i=0;i<count;i++)
      000027 0C               [12]  139 	inc	r4
      000028 BC 00 DD         [24]  140 	cjne	r4,#0x00,00107$
      00002B 0D               [12]  141 	inc	r5
      00002C 80 DA            [24]  142 	sjmp	00107$
      00002E                        143 00109$:
                                    144 ;	src/delay.c:8: }
      00002E 22               [24]  145 	ret
                                    146 	.area CSEG    (CODE)
                                    147 	.area CONST   (CODE)
                                    148 	.area CABS    (ABS,CODE)
